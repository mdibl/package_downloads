#!/bin/sh

# Organization: MDIBL
# Author: Lucie Hutchins
# Date: October 2017
#
#
# Note: This config expects the following
# env variables defined:
# 1)  EXTERNAL_SOFTWARE_BASE. -- defined in main Configuration

SHORT_NAME=stringtie
NAME="Stringtie"
LANGUAGES="C++"
SRC_CONTROL=git
GIT_ORG=gpertea
GIT_REPOS=$SHORT_NAME
REPOS_TAG_PATTERN="^v[0-9]+\.[0-9]+\.[0-9]+"

#http://ccb.jhu.edu/software/stringtie/dl/stringtie-1.3.3b.Linux_x86_64.tar.gz
HTTP_SITE=ccb.jhu.edu
REMOTE_SITE=http://${HTTP_SITE}
REMOTE_DIR=/software/stringtie/dl

PREFIX=.Linux_x86_64
#Set local directory
# 
PACKAGE_DOWNLOADS_BASE=$EXTERNAL_SOFTWARE_BASE/$GIT_REPOS
RELEASE_FILE=$PACKAGE_DOWNLOADS_BASE/current_release_NUMBER

RELEASE_NUMBER=`cat $RELEASE_FILE | sed -e 's/^v//'`
RELEASE_DIR=$SHORT_NAME-${RELEASE_NUMBER}$PREFIX
REMOTE_FILES=$SHORT_NAME-$RELEASE_NUMBER$PREFIX.tar.gz
LOCAL_DIR=$PACKAGE_DOWNLOADS_BASE


INSTALL_PREFIX=$GIT_REPOS-

DESC="
StringTie is a fast and highly efficient assembler of RNA-Seq alignments into potential transcripts. It uses a novel network flow algorithm as well as an optional de novo assembly step to assemble and quantitate full-length transcripts representing multiple splice variants for each gene locus. Its input can include not only the alignments of raw reads used by other transcript assemblers, but also alignments longer sequences that have been assembled from those reads.
"
#******** Optional *********************
# untar downloaded file if needed
#
untar_flag=true
untar_prog="tar -xvzf"
untar_dir="$RELEASE_DIR"
local_untar_dir=""

